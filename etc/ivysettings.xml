<?xml version="1.0" encoding="utf-8"?>
<ivysettings>
<!--
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#
# Copyright 2007 Glencoe Software, Inc. All rights reserved.
# Use is subject to license terms supplied in LICENSE.txt
#Â·
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# Written by:  Josh Moore, josh at glencoesoftware.com
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-->

  <properties file="${ivy.settings.dir}/local.properties"/>
  <settings defaultResolver="${omero.resolver}"/>
  <caches defaultCacheDir="${ivy.settings.dir}/../lib/cache"/>
  <resolvers>

    <!-- Main resolver. Uses the OMERO_HOME/lib/repository directory after first
    searching in OMERO_HOME/lib/overrides as described in overrides/README.txt -->

    <chain name="omero-resolver" returnFirst="true">
      <filesystem name="nested_repo">
        <artifact pattern="${ivy.settings.dir}/../lib/repository/[organization]/[module]/[revision]/[artifact]-[revision].[type]" />
        <ivy pattern="${ivy.settings.dir}/../lib/repository/[organization]/[module]/[revision]/ivy.xml"/>
      </filesystem>
      <filesystem name="repo">
        <artifact pattern="${ivy.settings.dir}/../lib/repository/[module]-[revision].[type]" />
        <ivy pattern="${ivy.settings.dir}/../lib/repository/[module]-[revision].ivy"/>
      </filesystem>
      <filesystem name="importer_repo">
        <artifact pattern="${ivy.settings.dir}/../lib/repository/importer/[module]-[revision].[type]" />
        <ivy pattern="${ivy.settings.dir}/../lib/repository/importer/[module]-[revision].ivy"/>
      </filesystem>
   </chain>

    <!-- Example maven2 configuration. Unused. -->
    <ibiblio name="ibiblio-maven2" m2compatible="true" />

    <chain name="loci-resolver">
      <filesystem name="private">
        <artifact pattern="${user.home}/target/libs/[organization]/[module]/[revision]/[artifact]-[revision].[type]" />
      </filesystem>
    </chain>

    <chain name="tools-resolver">
      <filesystem name="tools-client">
        <artifact pattern="${ivy.settings.dir}/../components/tools/target/client/[artifact]-[revision].[type]" />
      </filesystem>
    </chain>

    <!-- Hudson resolver. Used by hudson to build a central repository -->
    <filesystem name="hudson-repository">
        <ivy pattern="${user.home}/.hudson/repository/[organisation]/[module]/ivys/ivy-[revision].xml"/>
        <artifact pattern="${user.home}/.hudson/repository/[organisation]/[module]/[type]s/[artifact]-[revision].[ext]"/>
    </filesystem>

  </resolvers>

  <!-- The loci modules can be fetched from another path by changing the "loci.resolver" 
  configuration in local.properties to point to "loci-resolver" as configured above. -->

  <modules>
    <module organisation="omero" name="bio-formats" resolver="${loci.resolver}" />
    <module organisation="omero" name="omejava" resolver="${loci.resolver}" />
  </modules>

</ivysettings>
